import{j as e,t as je,u as ve,v as ye,w as fe,x as Ne,y as Ce,z as Se,B as N,A as X,l as z,C as W,D as Y,E as Q,i as G,G as ke,p as L,H as Ae,I as Me,J as we,r as v,K as q,q as Fe,o as Ee,T as H,F as Be,a as Ie,M as Ue,N as Ve}from"./index-CID41xQN.js";import{P as Le}from"./PageLayout-C7kazdto.js";import{I as F,S as K,T as U}from"./SelectField-B_KqnIJR.js";import{M as De}from"./ModalOverlay-Cqw-iOOn.js";function Oe({viewMode:o,onViewChange:m}){return e.jsxs("div",{className:"view-toggle",children:[e.jsx("button",{className:`view-toggle__button ${o==="list"?"is-active":""}`,onClick:()=>m("list"),"aria-label":"List view",title:"List view",children:e.jsx(je,{})}),e.jsx("button",{className:`view-toggle__button ${o==="card"?"is-active":""}`,onClick:()=>m("card"),"aria-label":"Card view",title:"Card view",children:e.jsx(ve,{})})]})}function Re({columns:o=[],data:m=[],sortConfig:i=null,onSort:h=null,onRowClick:x=null,getRowKey:_=(p,g)=>g,emptyMessage:b="No data available"}){const p=r=>{if(!h||!r)return;let c="asc";(i==null?void 0:i.key)===r&&(i==null?void 0:i.direction)==="asc"&&(c="desc"),h({key:r,direction:c})},g=r=>!i||i.key!==r?e.jsx(ye,{}):i.direction==="asc"?e.jsx(fe,{}):e.jsx(Ne,{}),n=(r,c,t)=>r.render?r.render(c,t):c[r.key]||"-";return m.length===0?e.jsx("div",{className:"data-table__empty",children:e.jsx("p",{children:b})}):e.jsx("div",{className:"data-table",children:e.jsxs("table",{className:"data-table__table",children:[e.jsx("thead",{className:"data-table__head",children:e.jsx("tr",{children:o.map(r=>e.jsx("th",{className:`data-table__header ${r.sortable?"data-table__header--sortable":""} ${r.align?`data-table__header--${r.align}`:""}`,onClick:()=>r.sortable&&p(r.key),children:e.jsxs("div",{className:"data-table__header-content",children:[e.jsx("span",{children:r.label}),r.sortable&&e.jsx("span",{className:"data-table__sort-icon",children:g(r.key)})]})},r.key))})}),e.jsx("tbody",{className:"data-table__body",children:m.map((r,c)=>e.jsx("tr",{className:`data-table__row ${x?"data-table__row--clickable":""}`,onClick:()=>x&&x(r,c),children:o.map(t=>e.jsx("td",{className:`data-table__cell ${t.align?`data-table__cell--${t.align}`:""}`,children:n(t,r,c)},t.key))},_(r,c)))})]})})}function Te({data:o=[],renderCard:m=null,columns:i=3,emptyMessage:h="No data available",getItemKey:x=(_,b)=>b}){if(o.length===0)return e.jsx("div",{className:"data-card-grid__empty",children:e.jsx("p",{children:h})});const _={gridTemplateColumns:`repeat(${i}, 1fr)`};return e.jsx("div",{className:"data-card-grid",style:_,children:o.map((b,p)=>e.jsx("div",{className:"data-card-grid__item",children:m?m(b,p):e.jsx("div",{className:"data-card",children:e.jsx("pre",{children:JSON.stringify(b,null,2)})})},x(b,p)))})}function $e({currentPage:o=1,totalPages:m=1,pageSize:i=10,totalItems:h=0,onPageChange:x=null,onPageSizeChange:_=null,pageSizeOptions:b=[10,25,50,100]}){const p=h===0?0:(o-1)*i+1,g=Math.min(o*i,h),n=c=>{c>=1&&c<=m&&x&&x(c)},r=()=>{const c=[];let d=Math.max(1,o-Math.floor(2.5)),j=Math.min(m,d+5-1);j-d<4&&(d=Math.max(1,j-5+1)),d>1&&(c.push(1),d>2&&c.push("..."));for(let f=d;f<=j;f++)c.push(f);return j<m&&(j<m-1&&c.push("..."),c.push(m)),c};return e.jsxs("div",{className:"pagination",children:[e.jsxs("div",{className:"pagination__info",children:[e.jsxs("span",{children:["Showing ",p," to ",g," of ",h," entries"]}),_&&e.jsxs("div",{className:"pagination__page-size",children:[e.jsx("label",{children:"Items per page:"}),e.jsx("select",{value:i,onChange:c=>_(Number(c.target.value)),className:"pagination__select",children:b.map(c=>e.jsx("option",{value:c,children:c},c))})]})]}),e.jsxs("div",{className:"pagination__controls",children:[e.jsx("button",{className:"pagination__button",onClick:()=>n(o-1),disabled:o===1,"aria-label":"Previous page",children:e.jsx(Ce,{})}),e.jsx("div",{className:"pagination__pages",children:r().map((c,t)=>c==="..."?e.jsx("span",{className:"pagination__ellipsis",children:"..."},`ellipsis-${t}`):e.jsx("button",{className:`pagination__page ${o===c?"is-active":""}`,onClick:()=>n(c),children:c},c))}),e.jsx("button",{className:"pagination__button",onClick:()=>n(o+1),disabled:o===m,"aria-label":"Next page",children:e.jsx(Se,{})})]})]})}function Pe({fields:o=[],values:m={},onChange:i=null,onApply:h=null,onClear:x=null}){const _=(n,r)=>{i&&i({...m,[n]:r})},b=()=>{h&&h(m)},p=()=>{const n={};o.forEach(r=>{r.type==="select"||r.type==="multiselect"?n[r.key]=null:r.type==="range"?n[r.key]={min:"",max:""}:n[r.key]=""}),i&&i(n),x&&x()},g=Object.values(m).some(n=>n===null||n===""||n===void 0?!1:typeof n=="object"&&!Array.isArray(n)?n.min!==""||n.max!=="":Array.isArray(n)?n.length>0:!0);return e.jsxs("div",{className:"basic-filter",children:[e.jsx("div",{className:"basic-filter__fields",children:o.map(n=>{var r,c;if(n.type==="text"||n.type==="search")return e.jsxs("div",{className:"basic-filter__field",children:[e.jsx("label",{className:"basic-filter__label",children:n.label}),e.jsx(F,{value:m[n.key]||"",onChange:t=>_(n.key,t.target.value),placeholder:n.placeholder})]},n.key);if(n.type==="select")return e.jsxs("div",{className:"basic-filter__field",children:[e.jsx("label",{className:"basic-filter__label",children:n.label}),e.jsx(K,{value:m[n.key]||null,onChange:t=>_(n.key,(t==null?void 0:t.value)||null),options:n.options||[],placeholder:n.placeholder})]},n.key);if(n.type==="multiselect"){const t=m[n.key],d=t&&Array.isArray(t)?n.options.filter(j=>t.includes(j.value)):null;return e.jsxs("div",{className:"basic-filter__field",children:[e.jsx("label",{className:"basic-filter__label",children:n.label}),e.jsx(K,{isMulti:!0,value:d,onChange:j=>{const f=j?j.map(k=>k.value):null;_(n.key,f)},options:n.options||[],placeholder:n.placeholder})]},n.key)}if(n.type==="range"){const t=m[n.key]||{min:"",max:""};return e.jsxs("div",{className:"basic-filter__field basic-filter__field--range",children:[e.jsx("label",{className:"basic-filter__label",children:n.label}),e.jsxs("div",{className:"basic-filter__range",children:[e.jsx(F,{type:"number",value:t.min||"",onChange:d=>_(n.key,{...t,min:d}),placeholder:((r=n.placeholder)==null?void 0:r.min)||"Min",className:"basic-filter__range-input"}),e.jsx("span",{className:"basic-filter__range-separator",children:"to"}),e.jsx(F,{type:"number",value:t.max||"",onChange:d=>_(n.key,{...t,max:d}),placeholder:((c=n.placeholder)==null?void 0:c.max)||"Max",className:"basic-filter__range-input"})]})]},n.key)}return null})}),e.jsxs("div",{className:"basic-filter__actions",children:[e.jsx(N,{icon:e.jsx(X,{}),variant:"btn-primary",onClick:b,children:"Find"}),g&&e.jsx(N,{icon:e.jsx(z,{}),variant:"btn-secondary",onClick:p,children:"Clear"})]})]})}function Je({fields:o=[],values:m={},onChange:i=null,onApply:h=null,onClear:x=null}){const _=g=>{i&&i(g)},b=g=>{h&&h(g)},p=()=>{const g={};o.forEach(n=>{n.type==="select"||n.type==="multiselect"?g[n.key]=null:n.type==="number"||n.type==="range"?g[n.key]={min:"",max:""}:g[n.key]=""}),i&&i(g),x&&x()};return e.jsxs("div",{className:"advanced-filter",children:[e.jsx("div",{className:"advanced-filter__header",children:e.jsxs("div",{className:"advanced-filter__title",children:[e.jsx(W,{}),e.jsx("span",{children:"Filters"})]})}),e.jsx(Pe,{fields:o,values:m,onChange:_,onApply:b,onClear:p})]})}function Ge({value:o="",onChange:m=null,onSearch:i=null,placeholder:h="Search...",buttonText:x="Search"}){const _=b=>{b.key==="Enter"&&i&&i()};return e.jsx("div",{className:"search-bar",children:e.jsxs("div",{className:"search-bar__input-wrapper",children:[e.jsx(F,{className:"search-bar__input",placeholder:h,value:o,onChange:b=>m&&m(b),inputProps:{onKeyPress:_}}),e.jsx(N,{icon:e.jsx(X,{}),variant:"btn-primary search-bar__button",onClick:i,children:x})]})})}function qe({isOpen:o=!1,onClick:m=null,activeFiltersCount:i=0}){return e.jsxs("button",{className:"btn-root btn-secondary advanced-filter-toggle",onClick:m,children:[o?e.jsx(Y,{}):e.jsx(Q,{}),e.jsx(W,{}),e.jsx("span",{children:"Advanced Filters"}),i>0&&e.jsx("span",{className:"advanced-filter-toggle__badge",children:i})]})}function He({columns:o=[],visibleColumns:m=[],columnOrder:i=[],onToggleVisibility:h=null,onMoveUp:x=null,onMoveDown:_=null,onReset:b=null}){const p=G.useMemo(()=>{const t={};return o.forEach(d=>{t[d.key]=d}),t},[o]),g=G.useMemo(()=>{const t=i.filter(d=>p[d]).map(d=>p[d]);return o.forEach(d=>{i.includes(d.key)||t.push(d)}),t},[o,i,p]),n=t=>{h&&h(t)},r=t=>{const d=i.indexOf(t);x&&d>0&&x(d)},c=t=>{const d=i.indexOf(t);_&&d>=0&&d<i.length-1&&_(d)};return e.jsxs("div",{className:"column-manager",children:[e.jsxs("div",{className:"column-manager__header",children:[e.jsx("p",{className:"column-manager__description",children:"Select which columns to display and adjust their order in the table."}),b&&e.jsx(N,{label:"Reset to Default",icon:e.jsx(ke,{}),variant:"btn-secondary",onClick:b,children:"Reset to Default"})]}),e.jsx("div",{className:"column-manager__list",children:g.map(t=>{const d=m.includes(t.key),j=i.indexOf(t.key),f=j>0,k=j>=0&&j<i.length-1,l=t.key==="actions";return e.jsxs("div",{className:`column-manager__item ${d?"":"column-manager__item--hidden"} ${l?"column-manager__item--required":""}`,children:[e.jsxs("div",{className:"column-manager__item-content",children:[e.jsx("button",{className:"column-manager__toggle",onClick:()=>!l&&n(t.key),disabled:l,"aria-label":l?"Required column (cannot be hidden)":d?"Hide column":"Show column",title:l?"This column is required and cannot be hidden":void 0,children:d?e.jsx(L,{}):e.jsx(Ae,{})}),e.jsx("span",{className:"column-manager__label",children:t.label}),l&&e.jsx("span",{className:"column-manager__required-badge",children:"Required"}),!d&&!l&&e.jsx("span",{className:"column-manager__hidden-badge",children:"Hidden"})]}),e.jsxs("div",{className:"column-manager__item-actions",children:[e.jsx("button",{className:"column-manager__move-button",onClick:()=>r(t.key),disabled:!f,"aria-label":"Move up",children:e.jsx(Y,{})}),e.jsx("button",{className:"column-manager__move-button",onClick:()=>c(t.key),disabled:!k,"aria-label":"Move down",children:e.jsx(Q,{})})]})]},t.key)})})]})}function Ke(o){return Me({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0M8 1c-1.573 0-3.022.289-4.096.777C2.875 2.245 2 2.993 2 4s.875 1.755 1.904 2.223C4.978 6.711 6.427 7 8 7s3.022-.289 4.096-.777C13.125 5.755 14 5.007 14 4s-.875-1.755-1.904-2.223C11.022 1.289 9.573 1 8 1"},child:[]},{tag:"path",attr:{d:"M2 7v-.839c.457.432 1.004.751 1.49.972C4.722 7.693 6.318 8 8 8s3.278-.307 4.51-.867c.486-.22 1.033-.54 1.49-.972V7c0 .424-.155.802-.411 1.133a4.51 4.51 0 0 0-4.815 1.843A12 12 0 0 1 8 10c-1.573 0-3.022-.289-4.096-.777C2.875 8.755 2 8.007 2 7m6.257 3.998L8 11c-1.682 0-3.278-.307-4.51-.867-.486-.22-1.033-.54-1.49-.972V10c0 1.007.875 1.755 1.904 2.223C4.978 12.711 6.427 13 8 13h.027a4.55 4.55 0 0 1 .23-2.002m-.002 3L8 14c-1.682 0-3.278-.307-4.51-.867-.486-.22-1.033-.54-1.49-.972V13c0 1.007.875 1.755 1.904 2.223C4.978 15.711 6.427 16 8 16c.536 0 1.058-.034 1.555-.097a4.5 4.5 0 0 1-1.3-1.905"},child:[]}]})(o)}const V=[{id:1,name:"Access Business Group International BV",code:"ABG",state:"Active",modules:["BoM","REACH","External access"],regions:["EU","UK"],brands:1,users:3},{id:2,name:"Aloxxi",code:"ALO",state:"Active",modules:["Analyse","BoM","CPSR (view)","PIF"],regions:["EU","UK"],brands:9,users:0},{id:3,name:"Always Summer Limited",code:"ASL",state:"Active",modules:["Analyse","BoM","CPSR (view)","PIF"],regions:["EU"],brands:1,users:0},{id:4,name:"Apex Laboratories Private",code:"APEX",state:"Active",modules:["BoM"],regions:["EU"],brands:0,users:0},{id:5,name:"Australian Gold",code:"AUGO",state:"Active",modules:["BoM","REACH"],regions:["EU","UK"],brands:2,users:0},{id:6,name:"AX Beauty Brands Global LLC",code:"AXB",state:"Active",modules:["Analyse","BoM","CPSR (view)","PIF"],regions:["EU","UK"],brands:1,users:0},{id:7,name:"Ayu Cosmetics",code:"AYU",state:"Active",modules:["BoM","PIF"],regions:["EU"],brands:1,users:0},{id:8,name:"Beauty Brands Inc",code:"BBE",state:"Inactive",modules:["BoM"],regions:["EU"],brands:0,users:0},{id:9,name:"Cosmetic Solutions Ltd",code:"CSL",state:"Active",modules:["Analyse","BoM","PIF"],regions:["EU","UK","US"],brands:5,users:2},{id:10,name:"Derma Care International",code:"DCI",state:"Active",modules:["BoM","REACH"],regions:["EU"],brands:3,users:1}],Xe=[{value:"all",label:"All States"},{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"},{value:"Pending",label:"Pending"}];function Ze(){const o=we(),[m,i]=v.useState("list"),[h,x]=v.useState(null),[_,b]=v.useState(1),[p,g]=v.useState(10),[n,r]=v.useState(""),[c,t]=v.useState(!1),[d,j]=v.useState(!1),[f,k]=v.useState({state:null,modules:null,regions:null,brands:{min:"",max:""},users:{min:"",max:""}}),[l,E]=v.useState({}),[C,D]=v.useState(()=>{const s=localStorage.getItem("prims_clients");return s?JSON.parse(s):V}),[S,O]=v.useState(()=>{const s=localStorage.getItem("prims_clients_visible_columns");if(s){const a=JSON.parse(s);return a.includes("actions")||a.push("actions"),a}return["name","modules","regions","brands","users","actions"]}),[A,B]=v.useState(()=>{const s=localStorage.getItem("prims_clients_column_order");if(s){const a=JSON.parse(s);return a.includes("actions")||a.push("actions"),a}return["name","modules","regions","brands","users","actions"]}),Z=v.useMemo(()=>{const s=new Set;return C.forEach(a=>{a.modules.forEach(u=>s.add(u))}),Array.from(s).sort().map(a=>({value:a,label:a}))},[C]),ee=v.useMemo(()=>{const s=new Set;return C.forEach(a=>{a.regions.forEach(u=>s.add(u))}),Array.from(s).sort().map(a=>({value:a,label:a}))},[C]),se=[{key:"state",label:"State",type:"select",options:Xe,placeholder:"Select state..."},{key:"modules",label:"Modules",type:"multiselect",options:Z,placeholder:"Select modules..."},{key:"regions",label:"Regions",type:"multiselect",options:ee,placeholder:"Select regions..."},{key:"brands",label:"Brands",type:"range",placeholder:{min:"Min",max:"Max"}},{key:"users",label:"Users",type:"range",placeholder:{min:"Min",max:"Max"}}],M=v.useMemo(()=>{let s=[...C];if(n){const a=n.toLowerCase();s=s.filter(u=>u.name.toLowerCase().includes(a)||u.code.toLowerCase().includes(a))}if(l.state&&l.state!=="all"&&(s=s.filter(a=>a.state===l.state)),l.modules&&Array.isArray(l.modules)&&l.modules.length>0&&(s=s.filter(a=>l.modules.some(u=>a.modules.includes(u)))),l.regions&&Array.isArray(l.regions)&&l.regions.length>0&&(s=s.filter(a=>l.regions.some(u=>a.regions.includes(u)))),l.brands){if(l.brands.min!==""&&l.brands.min!==null){const a=Number(l.brands.min);isNaN(a)||(s=s.filter(u=>u.brands>=a))}if(l.brands.max!==""&&l.brands.max!==null){const a=Number(l.brands.max);isNaN(a)||(s=s.filter(u=>u.brands<=a))}}if(l.users){if(l.users.min!==""&&l.users.min!==null){const a=Number(l.users.min);isNaN(a)||(s=s.filter(u=>(u.users||0)>=a))}if(l.users.max!==""&&l.users.max!==null){const a=Number(l.users.max);isNaN(a)||(s=s.filter(u=>(u.users||0)<=a))}}return h&&s.sort((a,u)=>{const y=a[h.key],w=u[h.key];if(h.key==="modules"||h.key==="regions"){const P=Array.isArray(y)?y.join(", "):"",J=Array.isArray(w)?w.join(", "):"";return h.direction==="asc"?P.localeCompare(J):J.localeCompare(P)}if(typeof y=="number"&&typeof w=="number")return h.direction==="asc"?y-w:w-y;const T=String(y||"").toLowerCase(),$=String(w||"").toLowerCase();return h.direction==="asc"?T.localeCompare($):$.localeCompare(T)}),s},[C,n,l,h]),ae=Math.ceil(M.length/p),R=v.useMemo(()=>{const s=(_-1)*p;return M.slice(s,s+p)},[M,_,p]),I=[{key:"name",label:"Name & code",sortable:!0,render:s=>e.jsxs("div",{className:"data-table__name-cell",children:[e.jsx("strong",{children:s.name}),e.jsxs("span",{className:"data-table__code",children:["(",s.code,")"]})]})},{key:"modules",label:"Modules",sortable:!0,render:s=>e.jsx("div",{className:"data-table__tags",children:s.modules.map((a,u)=>e.jsx("span",{className:"data-table__tag",children:a},u))})},{key:"regions",label:"Regions",sortable:!0,render:s=>e.jsx("div",{className:"data-table__tags",children:s.regions.map((a,u)=>e.jsx("span",{className:"data-table__tag data-table__tag--region",children:a},u))})},{key:"brands",label:"Brands",sortable:!0,align:"center",render:s=>s.brands||"-"},{key:"users",label:"Users",sortable:!0,align:"center",render:s=>s.users||"-"},{key:"actions",label:"Actions",sortable:!1,align:"center",render:s=>e.jsx(H,{tooltip:"View Details",position:"top",children:e.jsx("button",{className:"data-table__action-button",onClick:a=>{a.stopPropagation(),o(`/admin/clients/${s.id}`)},"aria-label":"View Details",children:e.jsx(L,{})})})}],ne=v.useMemo(()=>{const s=S.includes("actions")?S:[...S,"actions"],a={};I.forEach(y=>{a[y.key]=y});const u=[];return A.forEach(y=>{s.includes(y)&&a[y]&&u.push(a[y])}),I.forEach(y=>{s.includes(y.key)&&!A.includes(y.key)&&u.push(y)}),u},[S,A]),le=s=>e.jsxs("div",{className:"client-card",children:[e.jsxs("div",{className:"client-card__header",children:[e.jsx("div",{className:"client-card__icon",children:e.jsx(Be,{})}),e.jsx("div",{className:"client-card__state",children:e.jsx("span",{className:`client-card__state-badge client-card__state-badge--${s.state.toLowerCase()}`,children:s.state})})]}),e.jsxs("div",{className:"client-card__body",children:[e.jsx("h4",{className:"client-card__name",children:s.name}),e.jsx("p",{className:"client-card__code",children:s.code}),e.jsxs("div",{className:"client-card__details",children:[e.jsxs("div",{className:"client-card__detail",children:[e.jsx(Ie,{}),e.jsxs("span",{children:[s.brands," ",s.brands===1?"Brand":"Brands"]})]}),e.jsxs("div",{className:"client-card__detail",children:[e.jsx(Ue,{}),e.jsxs("span",{children:[s.users||0," ",s.users===1?"User":"Users"]})]}),e.jsxs("div",{className:"client-card__detail",children:[e.jsx(Ve,{}),e.jsx("span",{children:s.regions.join(", ")})]})]}),e.jsxs("div",{className:"client-card__modules",children:[s.modules.slice(0,3).map((a,u)=>e.jsx("span",{className:"client-card__module-tag",children:a},u)),s.modules.length>3&&e.jsxs("span",{className:"client-card__module-tag client-card__module-tag--more",children:["+",s.modules.length-3]})]})]}),e.jsx("div",{className:"client-card__actions",children:e.jsx(H,{tooltip:"View Details",position:"top",children:e.jsx("button",{className:"client-card__action client-card__action--icon",onClick:()=>o(`/admin/clients/${s.id}`),"aria-label":"View Details",children:e.jsx(L,{})})})})]}),te=s=>{x(s),b(1)},ie=s=>{E(s),b(1)},re=()=>{E({}),k({state:null,modules:null,regions:null,brands:{min:"",max:""},users:{min:"",max:""}}),r("")},ce=()=>{b(1)},oe=v.useMemo(()=>{let s=0;return l.state&&l.state!=="all"&&s++,l.modules&&Array.isArray(l.modules)&&l.modules.length>0&&s++,l.regions&&Array.isArray(l.regions)&&l.regions.length>0&&s++,l.brands&&(l.brands.min!==""||l.brands.max!=="")&&s++,l.users&&(l.users.min!==""||l.users.max!=="")&&s++,s},[l]),de=s=>{b(s)},me=s=>{g(s),b(1)},ue=s=>{o(`/admin/clients/${s.id}`)},he=()=>{if(localStorage.getItem("prims_clients")){U.info("Sample data already loaded");return}localStorage.setItem("prims_clients",JSON.stringify(V)),D(V),U.success("Sample data loaded successfully!")},be=()=>{localStorage.removeItem("prims_clients"),D([]),E({}),k({name:"",state:null}),U.success("All data cleared successfully!")},_e=s=>{if(s==="actions")return;const a=S.includes(s)?S.filter(u=>u!==s):[...S,s];O(a),localStorage.setItem("prims_clients_visible_columns",JSON.stringify(a))},xe=s=>{if(s===0)return;const a=[...A];[a[s-1],a[s]]=[a[s],a[s-1]],B(a),localStorage.setItem("prims_clients_column_order",JSON.stringify(a))},pe=s=>{if(s>=A.length-1)return;const a=[...A];[a[s],a[s+1]]=[a[s+1],a[s]],B(a),localStorage.setItem("prims_clients_column_order",JSON.stringify(a))},ge=()=>{const s=["name","modules","regions","brands","users","actions"],a=["name","modules","regions","brands","users","actions"];O(s),B(a),localStorage.setItem("prims_clients_visible_columns",JSON.stringify(s)),localStorage.setItem("prims_clients_column_order",JSON.stringify(a))};return e.jsxs(Le,{title:"Clients",stats:[{value:C.length,label:"Total Clients"},{value:C.filter(s=>s.state==="Active").length,label:"Active"}],headerActions:e.jsxs(e.Fragment,{children:[e.jsx(N,{icon:e.jsx(Ke,{}),variant:"btn-secondary",onClick:he,children:"Sample Data"}),e.jsx(N,{icon:e.jsx(Fe,{}),variant:"btn-secondary",onClick:be,children:"Clear All"}),e.jsx(N,{icon:e.jsx(Ee,{}),variant:"btn-primary",onClick:()=>o("/admin/clients?mode=new"),children:"New Client"})]}),children:[e.jsxs("div",{className:"data-view",children:[e.jsxs("div",{className:"data-view__toolbar",children:[e.jsx("div",{className:"data-view__left",children:e.jsx(Ge,{value:n,onChange:r,onSearch:ce,placeholder:"Search by name or code...",buttonText:"Find"})}),e.jsxs("div",{className:"data-view__right",children:[e.jsx(N,{icon:e.jsx(q,{}),variant:"btn-secondary",onClick:()=>j(!0),children:"Columns"}),e.jsx(qe,{isOpen:c,onClick:()=>t(!c),activeFiltersCount:oe}),e.jsx(Oe,{viewMode:m,onViewChange:i})]})]}),c&&e.jsx("div",{className:"data-view__filters",children:e.jsx(Je,{fields:se,values:f,onChange:k,onApply:ie,onClear:re})}),e.jsx("div",{className:"data-view__info",children:e.jsxs("span",{children:[M.length," ",M.length===1?"client":"clients"," found"]})}),e.jsx("div",{className:"data-view__content",children:m==="list"?e.jsx(Re,{columns:ne,data:R,sortConfig:h,onSort:te,onRowClick:ue,getRowKey:s=>s.id,emptyMessage:"No clients found"}):e.jsx(Te,{data:R,renderCard:le,columns:3,getItemKey:s=>s.id,emptyMessage:"No clients found"})}),M.length>0&&e.jsx($e,{currentPage:_,totalPages:ae,pageSize:p,totalItems:M.length,onPageChange:de,onPageSizeChange:me})]}),e.jsx(De,{isVisible:d,onClose:()=>j(!1),title:"Manage Columns",icon:e.jsx(q,{}),maxWidth:"600px",footer:e.jsx(e.Fragment,{children:e.jsx(N,{label:"Close",icon:e.jsx(z,{}),variant:"btn-secondary",onClick:()=>j(!1),children:"Close"})}),children:e.jsx(He,{columns:I,visibleColumns:S,columnOrder:A,onToggleVisibility:_e,onMoveUp:xe,onMoveDown:pe,onReset:ge})})]})}export{Ze as default};
